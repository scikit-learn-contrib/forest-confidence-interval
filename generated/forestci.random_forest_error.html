

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>forestci.random_forest_error &mdash; forestci 0.5.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/project-template.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/project-template.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="../auto_examples/index.html" />
    <link rel="prev" title="forestci API" href="../api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> forestci
          

          
          </a>

          
            
            
              <div class="version">
                0.5.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation_guide.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html"><code class="docutils literal notranslate"><span class="pre">forestci</span></code> API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">forestci</span></code>.random_forest_error</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples-using-forestci-random-forest-error">Examples using <code class="docutils literal notranslate"><span class="pre">forestci.random_forest_error</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to <code class="docutils literal notranslate"><span class="pre">forestci</span></code> development</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">forestci</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../api.html"><code class="docutils literal notranslate"><span class="pre">forestci</span></code> API</a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">forestci</span></code>.random_forest_error</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/generated/forestci.random_forest_error.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="forestci-random-forest-error">
<h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">forestci</span></code>.random_forest_error<a class="headerlink" href="#forestci-random-forest-error" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="forestci.random_forest_error">
<span class="sig-name descname"><span class="pre">random_forest_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">forest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inbag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibrate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_constrained</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/forestci/forestci.html#random_forest_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#forestci.random_forest_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate error bars from scikit-learn RandomForest estimators.</p>
<p>RandomForest is a regressor or classifier object
this variance can be used to plot error bars for RandomForest objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>forest</strong><span class="classifier">RandomForest</span></dt><dd><p>Regressor or Classifier object.</p>
</dd>
<dt><strong>X_train</strong><span class="classifier">ndarray</span></dt><dd><p>An array with shape (n_train_sample, n_features). The design matrix for
training data.</p>
</dd>
<dt><strong>X_test</strong><span class="classifier">ndarray</span></dt><dd><p>An array with shape (n_test_sample, n_features). The design matrix
for testing data</p>
</dd>
<dt><strong>inbag</strong><span class="classifier">ndarray, optional</span></dt><dd><p>The inbag matrix that fit the data. If set to <cite>None</cite> (default) it
will be inferred from the forest. However, this only works for trees
for which bootstrapping was set to <cite>True</cite>. That is, if sampling was
done with replacement. Otherwise, users need to provide their own
inbag matrix.</p>
</dd>
<dt><strong>calibrate: boolean, optional</strong></dt><dd><p>Whether to apply calibration to mitigate Monte Carlo noise.
Some variance estimates may be negative due to Monte Carlo effects if
the number of trees in the forest is too small. To use calibration,
Default: True</p>
</dd>
<dt><strong>memory_constrained: boolean, optional</strong></dt><dd><p>Whether or not there is a restriction on memory. If False, it is
assumed that a ndarry of shape (n_train_sample,n_test_sample) fits
in main memory. Setting to True can actually provide a speed up if
memory_limit is tuned to the optimal range.</p>
</dd>
<dt><strong>memory_limit: int, optional.</strong></dt><dd><p>An upper bound for how much memory the itermediate matrices will take
up in Megabytes. This must be provided if memory_constrained=True.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>An array with the unbiased sampling variance (V_IJ_unbiased)</dt><dd></dd>
<dt>for a RandomForest object.</dt><dd></dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_inbag()</span></code></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The calculation of error is based on the infinitesimal jackknife variance,
as described in <a class="reference internal" href="#rc1fb17d90f4d-wager2014" id="id1">[Wager2014]</a> and is a Python implementation of the R code
provided at: <a class="reference external" href="https://github.com/swager/randomForestCI">https://github.com/swager/randomForestCI</a></p>
<dl class="citation">
<dt class="label" id="rc1fb17d90f4d-wager2014"><span class="brackets"><a class="fn-backref" href="#id1">Wager2014</a></span></dt>
<dd><p>S. Wager, T. Hastie, B. Efron. “Confidence Intervals for
Random Forests: The Jackknife and the Infinitesimal Jackknife”, Journal
of Machine Learning Research vol. 15, pp. 1625-1651, 2014.</p>
</dd>
</dl>
</dd></dl>

<div class="section" id="examples-using-forestci-random-forest-error">
<h2>Examples using <code class="docutils literal notranslate"><span class="pre">forestci.random_forest_error</span></code><a class="headerlink" href="#examples-using-forestci-random-forest-error" title="Permalink to this headline">¶</a></h2>
<div class="sphx-glr-thumbcontainer" tooltip="This example demonstrates using forestci to calculate the error bars of the predictions of a sk..."><div class="figure align-default" id="id2">
<img alt="Plotting Regression Forest Error Bars" src="../_images/sphx_glr_plot_mpg_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="../auto_examples/plot_mpg.html#sphx-glr-auto-examples-plot-mpg-py"><span class="std std-ref">Plotting Regression Forest Error Bars</span></a></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div><div class="sphx-glr-thumbcontainer" tooltip="This example demonstrates using forestci to calculate the error bars of the predictions of a sk..."><div class="figure align-default" id="id3">
<img alt="Plotting Bagging Regression Error Bars" src="../_images/sphx_glr_plot_mpg_svr_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="../auto_examples/plot_mpg_svr.html#sphx-glr-auto-examples-plot-mpg-svr-py"><span class="std std-ref">Plotting Bagging Regression Error Bars</span></a></span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div><div class="sphx-glr-thumbcontainer" tooltip="This example demonstrates the calculation of confidence intervals for sklearn.ensemble.RandomFo..."><div class="figure align-default" id="id4">
<img alt="Plotting Classification Forest Error Bars" src="../_images/sphx_glr_plot_spam_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="../auto_examples/plot_spam.html#sphx-glr-auto-examples-plot-spam-py"><span class="std std-ref">Plotting Classification Forest Error Bars</span></a></span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div><div style='clear:both'></div></div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../auto_examples/index.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../api.html" class="btn btn-neutral float-left" title="forestci API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016--, Kivan Polimis, Ariel Rokem, Bryna Hazelton, The University of Washington.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>